<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 1 章 Plots | 记录R学习</title>
  <meta name="description" content="日常记录数据" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="第 1 章 Plots | 记录R学习" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="日常记录数据" />
  <meta name="github-repo" content="yihui/bookdown-chinese" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 1 章 Plots | 记录R学习" />
  
  <meta name="twitter:description" content="日常记录数据" />
  

<meta name="author" content="chz" />


<meta name="date" content="2024-01-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="author.html"/>
<link rel="next" href="table.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/d3-bundle/d3-bundle.min.js"></script>
<script src="libs/d3-lasso/d3-lasso.min.js"></script>
<script src="libs/save-svg-as-png/save-svg-as-png.min.js"></script>
<script src="libs/flatbush/flatbush.min.js"></script>
<link href="libs/ggiraphjs/ggiraphjs.min.css" rel="stylesheet" />
<script src="libs/ggiraphjs/ggiraphjs.min.js"></script>
<script src="libs/girafe-binding/girafe.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">杂乱的干货</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#致谢"><i class="fa fa-check"></i>致谢</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>作者简介</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Plots</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#箱线图小提琴图"><i class="fa fa-check"></i><b>1.1</b> 箱线图/小提琴图</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#p2"><i class="fa fa-check"></i><b>1.2</b> p2</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#点线图"><i class="fa fa-check"></i><b>1.3</b> 点线图</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#树图"><i class="fa fa-check"></i><b>1.4</b> 树图</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#交互图"><i class="fa fa-check"></i><b>1.5</b> 交互图</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#自定义"><i class="fa fa-check"></i><b>1.6</b> 自定义</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="table.html"><a href="table.html"><i class="fa fa-check"></i><b>2</b> table</a>
<ul>
<li class="chapter" data-level="2.1" data-path="table.html"><a href="table.html#gt表"><i class="fa fa-check"></i><b>2.1</b> gt表</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="table.html"><a href="table.html#表格1"><i class="fa fa-check"></i><b>2.1.1</b> 表格1</a></li>
<li class="chapter" data-level="2.1.2" data-path="table.html"><a href="table.html#表格2"><i class="fa fa-check"></i><b>2.1.2</b> 表格2</a></li>
<li class="chapter" data-level="2.1.3" data-path="table.html"><a href="table.html#颜色表格"><i class="fa fa-check"></i><b>2.1.3</b> 颜色表格</a></li>
<li class="chapter" data-level="2.1.4" data-path="table.html"><a href="table.html#增加图像"><i class="fa fa-check"></i><b>2.1.4</b> 增加图像</a></li>
<li class="chapter" data-level="2.1.5" data-path="table.html"><a href="table.html#自定义图片"><i class="fa fa-check"></i><b>2.1.5</b> 自定义图片</a></li>
<li class="chapter" data-level="2.1.6" data-path="table.html"><a href="table.html#美元"><i class="fa fa-check"></i><b>2.1.6</b> 美元</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="table.html"><a href="table.html#flextable"><i class="fa fa-check"></i><b>2.2</b> flextable</a></li>
<li class="chapter" data-level="2.3" data-path="table.html"><a href="table.html#stargazer"><i class="fa fa-check"></i><b>2.3</b> stargazer</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="数学.html"><a href="数学.html"><i class="fa fa-check"></i><b>3</b> 数学</a></li>
<li class="chapter" data-level="4" data-path="实时.html"><a href="实时.html"><i class="fa fa-check"></i><b>4</b> 实时</a></li>
<li class="appendix"><span><b>附录</b></span></li>
<li class="chapter" data-level="A" data-path="sound.html"><a href="sound.html"><i class="fa fa-check"></i><b>A</b> 余音绕梁</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">菜鸟著书by bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">记录R学习</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">第 1 章</span> Plots<a href="intro.html#intro" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="箱线图小提琴图" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> 箱线图/小提琴图<a href="intro.html#箱线图小提琴图" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="intro.html#cb2-1" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-2"><a href="intro.html#cb2-2" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-3"><a href="intro.html#cb2-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-4"><a href="intro.html#cb2-4" tabindex="-1"></a><span class="fu">library</span>(pedquant)</span>
<span id="cb2-5"><a href="intro.html#cb2-5" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb2-6"><a href="intro.html#cb2-6" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb2-7"><a href="intro.html#cb2-7" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="intro.html#cb3-1" tabindex="-1"></a>p1<span class="ot">&lt;-</span>mtcars <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">am=</span><span class="fu">factor</span>(am),</span>
<span id="cb3-2"><a href="intro.html#cb3-2" tabindex="-1"></a>                  <span class="at">vs=</span><span class="fu">factor</span>(vs)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="intro.html#cb3-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>vs,<span class="at">y=</span>mpg,<span class="at">fill=</span>am))<span class="sc">+</span></span>
<span id="cb3-4"><a href="intro.html#cb3-4" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">col=</span><span class="st">&quot;white&quot;</span>,<span class="at">trim =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb3-5"><a href="intro.html#cb3-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width=</span>.<span class="dv">3</span>,<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>))<span class="sc">+</span></span>
<span id="cb3-6"><a href="intro.html#cb3-6" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.85</span>))<span class="sc">+</span></span>
<span id="cb3-7"><a href="intro.html#cb3-7" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="st">&#39;none&#39;</span>)<span class="sc">+</span></span>
<span id="cb3-8"><a href="intro.html#cb3-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&#39;Name of person&#39;</span>,<span class="at">y=</span><span class="st">&#39;Heart rate&#39;</span>,<span class="at">title =</span> <span class="st">&quot;Performance on lie detector test&quot;</span>)<span class="sc">+</span></span>
<span id="cb3-9"><a href="intro.html#cb3-9" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Set2&quot;</span>)</span>
<span id="cb3-10"><a href="intro.html#cb3-10" tabindex="-1"></a>p1</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="p2" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> p2<a href="intro.html#p2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="intro.html#cb4-1" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">count</span>(vs,cyl) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>,<span class="st">&quot;e&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="intro.html#cb4-2" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">&#39;vs&#39;</span>,<span class="st">&#39;cyl&#39;</span>),as.factor) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="intro.html#cb4-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>vs,<span class="at">y=</span>n,<span class="at">fill=</span>cyl,<span class="at">label=</span>name))<span class="sc">+</span></span>
<span id="cb4-4"><a href="intro.html#cb4-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb4-5"><a href="intro.html#cb4-5" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">&#39;fill&#39;</span>,<span class="at">col=</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb4-6"><a href="intro.html#cb4-6" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>name),<span class="at">size=</span><span class="dv">4</span>,<span class="at">vjust=</span><span class="fl">0.5</span>,<span class="at">position =</span> <span class="st">&#39;fill&#39;</span>)<span class="sc">+</span></span>
<span id="cb4-7"><a href="intro.html#cb4-7" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Set2&quot;</span>)<span class="sc">+</span></span>
<span id="cb4-8"><a href="intro.html#cb4-8" tabindex="-1"></a>  <span class="co"># scale_fill_manual(values = heat.colors(7))+</span></span>
<span id="cb4-9"><a href="intro.html#cb4-9" tabindex="-1"></a>  <span class="co"># scale_fill_manual(values = terrain.colors(7))+</span></span>
<span id="cb4-10"><a href="intro.html#cb4-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Facebook theme&quot;</span>,<span class="at">caption =</span> <span class="st">&quot;made by chz&quot;</span>)<span class="sc">+</span></span>
<span id="cb4-11"><a href="intro.html#cb4-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb4-12"><a href="intro.html#cb4-12" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>,<span class="co">#居中</span></span>
<span id="cb4-13"><a href="intro.html#cb4-13" tabindex="-1"></a>                                  <span class="at">vjust =</span><span class="dv">0</span>,<span class="co">#上下</span></span>
<span id="cb4-14"><a href="intro.html#cb4-14" tabindex="-1"></a>                                  <span class="at">color =</span> <span class="st">&#39;red&#39;</span>,</span>
<span id="cb4-15"><a href="intro.html#cb4-15" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>)</span>
<span id="cb4-16"><a href="intro.html#cb4-16" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="点线图" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> 点线图<a href="intro.html#点线图" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="intro.html#cb5-1" tabindex="-1"></a>dd<span class="ot">&lt;-</span><span class="fu">tibble</span>(<span class="at">name=</span><span class="fu">rep</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>],<span class="dv">2</span>),<span class="at">health=</span><span class="fu">rnorm</span>(<span class="dv">20</span>,<span class="dv">10</span>,<span class="dv">1</span>),<span class="at">time=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;n&#39;</span>),<span class="at">each=</span><span class="dv">10</span>))</span>
<span id="cb5-2"><a href="intro.html#cb5-2" tabindex="-1"></a>dd<span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> health, <span class="at">y=</span> name)) <span class="sc">+</span> </span>
<span id="cb5-3"><a href="intro.html#cb5-3" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> name))<span class="sc">+</span><span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span>time),<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb5-4"><a href="intro.html#cb5-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Changes in health on time&quot;</span>,<span class="at">x=</span><span class="st">&quot;health&quot;</span>, <span class="at">y=</span><span class="st">&quot;name&quot;</span>)<span class="sc">+</span></span>
<span id="cb5-5"><a href="intro.html#cb5-5" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>))</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="树图" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> 树图<a href="intro.html#树图" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="intro.html#cb6-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb6-2"><a href="intro.html#cb6-2" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb6-3"><a href="intro.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="intro.html#cb6-4" tabindex="-1"></a><span class="fu">ggplot</span>(G20, <span class="fu">aes</span>(<span class="at">area =</span> gdp_mil_usd, <span class="at">fill =</span> hdi,<span class="at">label =</span> country)) <span class="sc">+</span> </span>
<span id="cb6-5"><a href="intro.html#cb6-5" tabindex="-1"></a>  <span class="fu">geom_treemap</span>()<span class="sc">+</span></span>
<span id="cb6-6"><a href="intro.html#cb6-6" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">fontface =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb6-7"><a href="intro.html#cb6-7" tabindex="-1"></a>                    <span class="at">place =</span> <span class="st">&quot;centre&quot;</span>,<span class="at">grow =</span> <span class="cn">TRUE</span>,<span class="at">alpha=</span>.<span class="dv">6</span>)<span class="sc">+</span></span>
<span id="cb6-8"><a href="intro.html#cb6-8" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(<span class="at">palette=</span><span class="st">&quot;Reds&quot;</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="intro.html#cb7-1" tabindex="-1"></a><span class="co"># 其中place参数控制每一个方块中标签相对于四周的位置，</span></span>
<span id="cb7-2"><a href="intro.html#cb7-2" tabindex="-1"></a><span class="co"># grow则控制标签是否与方块大小自适应（呈大致比例放大缩小）</span></span>
<span id="cb7-3"><a href="intro.html#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="intro.html#cb7-4" tabindex="-1"></a><span class="co"># 次级分组（亚群）：</span></span>
<span id="cb7-5"><a href="intro.html#cb7-5" tabindex="-1"></a><span class="fu">ggplot</span>(G20, <span class="fu">aes</span>(<span class="at">area =</span> gdp_mil_usd, <span class="at">fill =</span> hdi, <span class="at">label =</span> country,<span class="at">subgroup =</span> region)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="intro.html#cb7-6" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="intro.html#cb7-7" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_border</span>() <span class="sc">+</span></span>
<span id="cb7-8"><a href="intro.html#cb7-8" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_text</span>(<span class="at">place =</span> <span class="st">&quot;centre&quot;</span>, <span class="at">grow =</span> T,</span>
<span id="cb7-9"><a href="intro.html#cb7-9" tabindex="-1"></a>                             <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">colour =</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">min.size =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="intro.html#cb7-10" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">place =</span> <span class="st">&quot;topleft&quot;</span>, <span class="at">reflow =</span> T,<span class="at">alpha=</span>.<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb7-11"><a href="intro.html#cb7-11" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(<span class="at">palette=</span><span class="st">&quot;Reds&quot;</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
</div>
<div id="交互图" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> 交互图<a href="intro.html#交互图" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="intro.html#cb8-1" tabindex="-1"></a><span class="fu">library</span>(ggiraph)</span>
<span id="cb8-2"><a href="intro.html#cb8-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> mtcars</span>
<span id="cb8-3"><a href="intro.html#cb8-3" tabindex="-1"></a>data<span class="sc">$</span>carname <span class="ot">&lt;-</span> <span class="fu">row.names</span>(data)</span>
<span id="cb8-4"><a href="intro.html#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="intro.html#cb8-5" tabindex="-1"></a>gg_point <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> data) <span class="sc">+</span></span>
<span id="cb8-6"><a href="intro.html#cb8-6" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> qsec, <span class="at">color =</span> disp,</span>
<span id="cb8-7"><a href="intro.html#cb8-7" tabindex="-1"></a>                             <span class="at">tooltip =</span> carname, <span class="at">data_id =</span> carname)) <span class="sc">+</span> </span>
<span id="cb8-8"><a href="intro.html#cb8-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-9"><a href="intro.html#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="intro.html#cb8-10" tabindex="-1"></a><span class="fu">girafe</span>(<span class="at">ggobj =</span> gg_point)</span></code></pre></div>
<div class="girafe html-widget html-fill-item" id="htmlwidget-80aebce9f1bf84ca9e3a" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-80aebce9f1bf84ca9e3a">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='img' id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82' viewBox='0 0 504 360'>\n <defs id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_defs'>\n  <clipPath id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_c2'>\n   <rect x='33.27' y='5.48' width='405.89' height='322.79'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n  <\/g>\n  <g clip-path='url(#svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_c2)'>\n   <polyline points='33.27,296.13 439.16,296.13' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,226.26 439.16,226.26' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,156.39 439.16,156.39' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,86.53 439.16,86.53' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,16.66 439.16,16.66' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.49,328.27 50.49,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='144.84,328.27 144.84,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='239.18,328.27 239.18,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='333.53,328.27 333.53,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='427.88,328.27 427.88,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,261.19 439.16,261.19' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,191.33 439.16,191.33' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,121.46 439.16,121.46' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='33.27,51.59 439.16,51.59' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='97.66,328.27 97.66,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='192.01,328.27 192.01,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='286.36,328.27 286.36,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='380.70,328.27 380.70,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e1' cx='156.16' cy='245.12' r='1.47pt' fill='#214667' fill-opacity='1' stroke='#214667' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Mazda RX4' data-id='Mazda RX4'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e2' cx='180.22' cy='225.56' r='1.47pt' fill='#214667' fill-opacity='1' stroke='#214667' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Mazda RX4 Wag' data-id='Mazda RX4 Wag'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e3' cx='127.85' cy='170.02' r='1.47pt' fill='#193652' fill-opacity='1' stroke='#193652' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Datsun 710' data-id='Datsun 710'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e4' cx='212.29' cy='141.02' r='1.47pt' fill='#316692' fill-opacity='1' stroke='#316692' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Hornet 4 Drive' data-id='Hornet 4 Drive'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e5' cx='233.52' cy='225.56' r='1.47pt' fill='#4289C1' fill-opacity='1' stroke='#4289C1' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Hornet Sportabout' data-id='Hornet Sportabout'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e6' cx='235.41' cy='113.77' r='1.47pt' fill='#2B5B83' fill-opacity='1' stroke='#2B5B83' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Valiant' data-id='Valiant'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e7' cx='245.79' cy='266.78' r='1.47pt' fill='#4289C1' fill-opacity='1' stroke='#4289C1' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Duster 360' data-id='Duster 360'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e8' cx='209.94' cy='121.46' r='1.47pt' fill='#1F4262' fill-opacity='1' stroke='#1F4262' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 240D' data-id='Merc 240D'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e9' cx='206.16' cy='20.15' r='1.47pt' fill='#1E405F' fill-opacity='1' stroke='#1E405F' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 230' data-id='Merc 230'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e10' cx='233.52' cy='180.85' r='1.47pt' fill='#22486A' fill-opacity='1' stroke='#22486A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 280' data-id='Merc 280'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e11' cx='233.52' cy='159.89' r='1.47pt' fill='#22486A' fill-opacity='1' stroke='#22486A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 280C' data-id='Merc 280C'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e12' cx='292.96' cy='212.29' r='1.47pt' fill='#346C9A' fill-opacity='1' stroke='#346C9A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 450SE' data-id='Merc 450SE'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e13' cx='260.88' cy='205.3' r='1.47pt' fill='#346C9A' fill-opacity='1' stroke='#346C9A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 450SL' data-id='Merc 450SL'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e14' cx='265.6' cy='191.33' r='1.47pt' fill='#346C9A' fill-opacity='1' stroke='#346C9A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Merc 450SLC' data-id='Merc 450SLC'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e15' cx='404.29' cy='192.02' r='1.47pt' fill='#56B1F7' fill-opacity='1' stroke='#56B1F7' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Cadillac Fleetwood' data-id='Cadillac Fleetwood'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e16' cx='420.71' cy='197.61' r='1.47pt' fill='#54ADF1' fill-opacity='1' stroke='#54ADF1' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Lincoln Continental' data-id='Lincoln Continental'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e17' cx='413.25' cy='211.59' r='1.47pt' fill='#50A5E7' fill-opacity='1' stroke='#50A5E7' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Chrysler Imperial' data-id='Chrysler Imperial'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e18' cx='116.53' cy='139.97' r='1.47pt' fill='#142D46' fill-opacity='1' stroke='#142D46' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Fiat 128' data-id='Fiat 128'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e19' cx='61.34' cy='173.16' r='1.47pt' fill='#142C45' fill-opacity='1' stroke='#142C45' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Honda Civic' data-id='Honda Civic'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e20' cx='82.1' cy='124.95' r='1.47pt' fill='#132B43' fill-opacity='1' stroke='#132B43' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Toyota Corolla' data-id='Toyota Corolla'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e21' cx='141.53' cy='121.11' r='1.47pt' fill='#1A3A57' fill-opacity='1' stroke='#1A3A57' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Toyota Corona' data-id='Toyota Corona'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e22' cx='241.07' cy='230.8' r='1.47pt' fill='#3B7AAD' fill-opacity='1' stroke='#3B7AAD' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Dodge Challenger' data-id='Dodge Challenger'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e23' cx='233.05' cy='215.78' r='1.47pt' fill='#3875A7' fill-opacity='1' stroke='#3875A7' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='AMC Javelin' data-id='AMC Javelin'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e24' cx='271.26' cy='281.8' r='1.47pt' fill='#4085BC' fill-opacity='1' stroke='#4085BC' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Camaro Z28' data-id='Camaro Z28'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e25' cx='271.73' cy='224.51' r='1.47pt' fill='#4997D4' fill-opacity='1' stroke='#4997D4' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Pontiac Firebird' data-id='Pontiac Firebird'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e26' cx='91.53' cy='159.89' r='1.47pt' fill='#142D46' fill-opacity='1' stroke='#142D46' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Fiat X1-9' data-id='Fiat X1-9'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e27' cx='110.87' cy='236.74' r='1.47pt' fill='#1A3A57' fill-opacity='1' stroke='#1A3A57' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Porsche 914-2' data-id='Porsche 914-2'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e28' cx='51.72' cy='229.75' r='1.47pt' fill='#17324D' fill-opacity='1' stroke='#17324D' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Lotus Europa' data-id='Lotus Europa'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e29' cx='208.05' cy='313.59' r='1.47pt' fill='#4085BD' fill-opacity='1' stroke='#4085BD' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Ford Pantera L' data-id='Ford Pantera L'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e30' cx='170.31' cy='278.66' r='1.47pt' fill='#1E4161' fill-opacity='1' stroke='#1E4161' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Ferrari Dino' data-id='Ferrari Dino'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e31' cx='245.79' cy='310.1' r='1.47pt' fill='#3874A5' fill-opacity='1' stroke='#3874A5' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Maserati Bora' data-id='Maserati Bora'/>\n   <circle id='svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_e32' cx='171.25' cy='170.37' r='1.47pt' fill='#1B3A57' fill-opacity='1' stroke='#1B3A57' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Volvo 142E' data-id='Volvo 142E'/>\n  <\/g>\n  <g clip-path='url(#svg_96854224_37da_42fa_b1ac_edfdd2d0eb82_c1)'>\n   <text x='18.54' y='264.35' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>16<\/text>\n   <text x='18.54' y='194.48' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>18<\/text>\n   <text x='18.54' y='124.61' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>20<\/text>\n   <text x='18.54' y='54.75' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>22<\/text>\n   <text x='95.22' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2<\/text>\n   <text x='189.56' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>3<\/text>\n   <text x='283.91' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>4<\/text>\n   <text x='378.25' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>5<\/text>\n   <text x='230.71' y='352.09' font-size='8.25pt' font-family='Helvetica'>wt<\/text>\n   <text transform='translate(13.37,178.49) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica'>qsec<\/text>\n   <image x='455.59' y='131.57' width='17.28' height='86.4' preserveAspectRatio='none' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEsCAYAAAACUNnVAAAAmElEQVQ4ja2UQRLDMAgDd3hk/tnX5agcknFaCoa0vnkMCEnGsL12GQhDYDpPwoDrpBFlRDWi/9Wu6AHC9FkLYLrzlhD3oJ3mDvRHRYy7IC8A7bCK8gpWKYDzeQVArDcDyD2YAnSofZvzaOA6Q7Oahp/dmRuVTQ0xU5TGP2o8Waool1obVuv1q8qP9xPvg633XlGLDtfIhNUBcBeA5ss0BXMAAAAASUVORK5CYII=' xmlns:xlink='http://www.w3.org/1999/xlink'/>\n   <text x='478.35' y='214.78' font-size='6.6pt' font-family='Helvetica'>100<\/text>\n   <text x='478.35' y='193.3' font-size='6.6pt' font-family='Helvetica'>200<\/text>\n   <text x='478.35' y='171.82' font-size='6.6pt' font-family='Helvetica'>300<\/text>\n   <text x='478.35' y='150.34' font-size='6.6pt' font-family='Helvetica'>400<\/text>\n   <text x='455.59' y='124.88' font-size='8.25pt' font-family='Helvetica'>disp<\/text>\n   <line x1='455.59' y1='211.62' x2='459.05' y2='211.62' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='455.59' y1='190.14' x2='459.05' y2='190.14' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='455.59' y1='168.66' x2='459.05' y2='168.66' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='455.59' y1='147.18' x2='459.05' y2='147.18' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='469.42' y1='211.62' x2='472.87' y2='211.62' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='469.42' y1='190.14' x2='472.87' y2='190.14' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='469.42' y1='168.66' x2='472.87' y2='168.66' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='469.42' y1='147.18' x2='472.87' y2='147.18' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.37' stroke-linejoin='round' stroke-linecap='butt'/>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_96854224_37da_42fa_b1ac_edfdd2d0eb82","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_data_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_data_SVGID_ { fill:orange;stroke:black; }\nline.hover_data_SVGID_, polyline.hover_data_SVGID_ { fill:none;stroke:orange; }\nrect.hover_data_SVGID_, polygon.hover_data_SVGID_, path.hover_data_SVGID_ { fill:orange;stroke:none; }\nimage.hover_data_SVGID_ { stroke:orange; }","reactive":true,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="自定义" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> 自定义<a href="intro.html#自定义" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro.html#cb9-1" tabindex="-1"></a><span class="fu">library</span>(magick)</span>
<span id="cb9-2"><a href="intro.html#cb9-2" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb9-3"><a href="intro.html#cb9-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-4"><a href="intro.html#cb9-4" tabindex="-1"></a><span class="co"># install.packages(&quot;palmerpenguins&quot;)</span></span>
<span id="cb9-5"><a href="intro.html#cb9-5" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb9-6"><a href="intro.html#cb9-6" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(penguins,<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb9-7"><a href="intro.html#cb9-7" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">width=</span><span class="fl">0.5</span>,<span class="at">cex=</span><span class="fl">1.2</span>,<span class="fu">aes</span>(<span class="at">fill =</span> species),<span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="intro.html#cb9-8" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width=</span><span class="fl">0.1</span>,<span class="at">cex=</span><span class="fl">1.2</span>)<span class="sc">+</span></span>
<span id="cb9-9"><a href="intro.html#cb9-9" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb9-10"><a href="intro.html#cb9-10" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">2500</span>,<span class="dv">8000</span>))<span class="sc">+</span></span>
<span id="cb9-11"><a href="intro.html#cb9-11" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb9-12"><a href="intro.html#cb9-12" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;cyan4&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="intro.html#cb10-1" tabindex="-1"></a>p</span>
<span id="cb10-2"><a href="intro.html#cb10-2" tabindex="-1"></a>image <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">&#39;www/lp_lh1.png&#39;</span>) <span class="co">#magick包的函数读取图片</span></span>
<span id="cb10-3"><a href="intro.html#cb10-3" tabindex="-1"></a><span class="fu">grid.raster</span>(image, <span class="at">x=</span><span class="fl">0.25</span>, <span class="at">y=</span><span class="fl">0.65</span>, <span class="at">height=</span><span class="fl">0.2</span>) <span class="co">#grid包的函数，叠加图片到现有绘图上</span></span>
<span id="cb10-4"><a href="intro.html#cb10-4" tabindex="-1"></a>image <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">&#39;www/lp_lh2.png&#39;</span>) </span>
<span id="cb10-5"><a href="intro.html#cb10-5" tabindex="-1"></a><span class="fu">grid.raster</span>(image, <span class="at">x=</span><span class="fl">0.45</span>, <span class="at">y=</span><span class="fl">0.65</span>, <span class="at">height=</span><span class="fl">0.2</span>)</span>
<span id="cb10-6"><a href="intro.html#cb10-6" tabindex="-1"></a>image <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">&#39;www/lh_2.png&#39;</span>) </span>
<span id="cb10-7"><a href="intro.html#cb10-7" tabindex="-1"></a><span class="fu">grid.raster</span>(image, <span class="at">x=</span><span class="fl">0.65</span>, <span class="at">y=</span><span class="fl">0.85</span>, <span class="at">height=</span><span class="fl">0.2</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro.html#cb11-1" tabindex="-1"></a><span class="fu">library</span>(png) <span class="co">#读取.png图片</span></span>
<span id="cb11-2"><a href="intro.html#cb11-2" tabindex="-1"></a><span class="fu">library</span>(jpeg) <span class="co">#读取jpeg图片</span></span>
<span id="cb11-3"><a href="intro.html#cb11-3" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb11-4"><a href="intro.html#cb11-4" tabindex="-1"></a><span class="fu">library</span>(ggimage) <span class="co">#ggplot2扩展包，配合ggplot2绘图</span></span>
<span id="cb11-5"><a href="intro.html#cb11-5" tabindex="-1"></a></span>
<span id="cb11-6"><a href="intro.html#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="intro.html#cb11-7" tabindex="-1"></a>t<span class="ot">=</span><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="sc">*</span>pi, <span class="at">by=</span><span class="fl">0.2</span>)</span>
<span id="cb11-8"><a href="intro.html#cb11-8" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">16</span><span class="sc">*</span><span class="fu">sin</span>(t)<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb11-9"><a href="intro.html#cb11-9" tabindex="-1"></a>y<span class="ot">=</span><span class="dv">13</span><span class="sc">*</span><span class="fu">cos</span>(t)<span class="sc">-</span><span class="dv">5</span><span class="sc">*</span><span class="fu">cos</span>(<span class="dv">2</span><span class="sc">*</span>t)<span class="sc">-</span><span class="dv">2</span><span class="sc">*</span><span class="fu">cos</span>(<span class="dv">3</span><span class="sc">*</span>t)<span class="sc">-</span><span class="fu">cos</span>(<span class="dv">4</span><span class="sc">*</span>t)</span>
<span id="cb11-10"><a href="intro.html#cb11-10" tabindex="-1"></a>a<span class="ot">=</span>(x<span class="sc">-</span><span class="fu">min</span>(x))<span class="sc">/</span>(<span class="fu">max</span>(x)<span class="sc">-</span><span class="fu">min</span>(x))</span>
<span id="cb11-11"><a href="intro.html#cb11-11" tabindex="-1"></a>b<span class="ot">=</span>(y<span class="sc">-</span><span class="fu">min</span>(y))<span class="sc">/</span>(<span class="fu">max</span>(y)<span class="sc">-</span><span class="fu">min</span>(y))</span>
<span id="cb11-12"><a href="intro.html#cb11-12" tabindex="-1"></a>bg_img <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">&#39;www/xg1.png&#39;</span>) </span>
<span id="cb11-13"><a href="intro.html#cb11-13" tabindex="-1"></a>bees <span class="ot">&lt;-</span> <span class="fu">data_frame</span>(<span class="at">x=</span>a,<span class="at">y=</span>b)</span>
<span id="cb11-14"><a href="intro.html#cb11-14" tabindex="-1"></a>bees<span class="sc">$</span>image <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;www/lp_lh1.png&quot;</span>,<span class="cn">NA</span>,<span class="st">&quot;www/lh_sm.png&quot;</span>,<span class="cn">NA</span>),<span class="at">times=</span><span class="dv">8</span>)</span>
<span id="cb11-15"><a href="intro.html#cb11-15" tabindex="-1"></a></span>
<span id="cb11-16"><a href="intro.html#cb11-16" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> bees, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y))<span class="sc">+</span></span>
<span id="cb11-17"><a href="intro.html#cb11-17" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">20</span>)<span class="sc">+</span></span>
<span id="cb11-18"><a href="intro.html#cb11-18" tabindex="-1"></a>  <span class="fu">annotation_custom</span>(<span class="fu">rasterGrob</span>(bg_img, </span>
<span id="cb11-19"><a href="intro.html#cb11-19" tabindex="-1"></a>                               <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">&quot;npc&quot;</span>),</span>
<span id="cb11-20"><a href="intro.html#cb11-20" tabindex="-1"></a>                               <span class="at">height =</span> <span class="fu">unit</span>(<span class="dv">1</span>,<span class="st">&quot;npc&quot;</span>)), </span>
<span id="cb11-21"><a href="intro.html#cb11-21" tabindex="-1"></a>                    <span class="sc">-</span><span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="sc">-</span><span class="cn">Inf</span>, <span class="cn">Inf</span>)<span class="sc">+</span></span>
<span id="cb11-22"><a href="intro.html#cb11-22" tabindex="-1"></a>  <span class="fu">geom_image</span>(<span class="fu">aes</span>(<span class="at">image =</span> image), <span class="at">size =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>现在我们可以试试 <strong>bookdown</strong> 的一些初级功能了，例如图表。图 <a href="intro.html#fig:hello">1.1</a> 是一幅无趣的散点图，表 <a href="intro.html#tab:iris">1.1</a> 是一份枯燥的数据。</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="intro.html#cb12-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">1</span>, .<span class="dv">1</span>))</span>
<span id="cb12-2"><a href="intro.html#cb12-2" tabindex="-1"></a><span class="fu">plot</span>(cars, <span class="at">pch =</span> <span class="dv">19</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:hello"></span>
<img src="bookdown_files/figure-html/hello-1.png" alt="雷猴啊，散点图！" width="90%" />
<p class="caption">
图 1.1: 雷猴啊，散点图！
</p>
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="intro.html#cb13-1" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb13-2"><a href="intro.html#cb13-2" tabindex="-1"></a>  <span class="fu">head</span>(iris), <span class="at">caption =</span> <span class="st">&#39;雷猴啊，iris 数据！&#39;</span>,</span>
<span id="cb13-3"><a href="intro.html#cb13-3" tabindex="-1"></a>  <span class="at">booktabs =</span> <span class="cn">TRUE</span></span>
<span id="cb13-4"><a href="intro.html#cb13-4" tabindex="-1"></a>)</span></code></pre></div>
<table>
<caption><span id="tab:iris">表 1.1: </span>雷猴啊，iris 数据！</caption>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>就这样，你可以一直编下去，直到编不下去。</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="author.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="table.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"qq": true
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-chinese/edit/master/01-plot.Rmd",
"text": "编辑"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
